<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Crazy AWS Lambda Fun! ğŸ­</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <h1>ğŸš€ Crazy Demo for PUT, GET, and DELETE! ğŸ¤ª</h1>

    <section>
        <button id="send-data">ğŸ”¥ Send Data ğŸ”¥</button>
        <p>ğŸš€ Sends a JSON object to AWS with ID <b>6666666</b></p>
    </section>

    <section>
        <button id="load-data">ğŸ“¦ Load Data ğŸ“¦</button>
        <p>ğŸ” Fetches mysterious data from the server! What could it be? ğŸ¤”</p>
        <div id="lambda-info">ğŸ’¡ Data will appear here... or maybe a cat meme? ğŸ±</div>
    </section>

    <section>
        <button id="delete-data">ğŸ’¥ Delete Data ğŸ’¥</button>
        <p>ğŸš« Deletes data with ID <b>6666666</b> from the server! ğŸ˜ˆ</p>
    </section>

    <script>
        const apiUrl = "https://5vuqvsqv24.execute-api.us-east-2.amazonaws.com/items"; // Your actual AWS API URL

        // Send Data (PUT request)
        document.getElementById("send-data").onclick = function () {
            let xhr = new XMLHttpRequest();
            xhr.open("PUT", apiUrl);
            xhr.setRequestHeader("Content-Type", "application/json");

            xhr.onload = function () {
                alert("ğŸ”¥ Data sent successfully! Response: " + xhr.responseText);
            };

            xhr.onerror = function () {
                alert("ğŸš¨ Oh no! Something went wrong.");
            };

            xhr.send(JSON.stringify({
                "id": "6666666",
                "price": 19,
                "name": "test put value"
            }));
        };

        // Load Data (GET request)
        document.getElementById("load-data").onclick = function () {
            let lambda = document.getElementById("lambda-info");
            let xhr = new XMLHttpRequest();

            xhr.open("GET", apiUrl, true);

            xhr.onload = function () {
                lambda.innerHTML = `<pre>${xhr.responseText}</pre>`;
            };

            xhr.onerror = function () {
                lambda.innerHTML = "âŒ Failed to load data!";
            };

            xhr.send();
        };

        // Delete Data (DELETE request)
        document.getElementById("delete-data").onclick = function () {
            let xhr = new XMLHttpRequest();
            xhr.open("DELETE", apiUrl + "/6666666"); // Assuming your API deletes by ID
            xhr.setRequestHeader("Content-Type", "application/json");

            xhr.onload = function () {
                alert("ğŸ’€ Data deleted! Server says: " + xhr.responseText);
            };

            xhr.onerror = function () {
                alert("ğŸ¤¯ Could not delete data!");
            };

            xhr.send();
        };
    </script>

</body>

</html>
